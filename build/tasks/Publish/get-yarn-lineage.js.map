{"version":3,"file":"get-yarn-lineage.js","names":["_execa","_interopRequireDefault","require","e","__esModule","default","yarnLineage","undefined","getYarnLineage","stdout","execa","parseInt","setYarnLineageForTesting","value"],"sources":["../../../src/tasks/Publish/get-yarn-lineage.js"],"sourcesContent":["import execa from 'execa';\n\nlet yarnLineage = undefined;\n\nexport default async function getYarnLineage() {\n  if (yarnLineage !== undefined) {\n    return yarnLineage;\n  }\n\n  try {\n    const {stdout} = await execa('yarn', ['--version']);\n    yarnLineage = parseInt(stdout) > 1\n      ? 'berry'\n      : 'classic';\n  } catch (e) {\n    yarnLineage = null;\n  }\n\n  return yarnLineage;\n}\n\nexport function setYarnLineageForTesting(value) {\n  yarnLineage = value;\n}\n"],"mappings":";;;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA0B,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAE1B,IAAIG,WAAW,GAAGC,SAAS;AAEZ,eAAeC,cAAcA,CAAA,EAAG;EAC7C,IAAIF,WAAW,KAAKC,SAAS,EAAE;IAC7B,OAAOD,WAAW;EACpB;EAEA,IAAI;IACF,MAAM;MAACG;IAAM,CAAC,GAAG,MAAM,IAAAC,cAAK,EAAC,MAAM,EAAE,CAAC,WAAW,CAAC,CAAC;IACnDJ,WAAW,GAAGK,QAAQ,CAACF,MAAM,CAAC,GAAG,CAAC,GAC9B,OAAO,GACP,SAAS;EACf,CAAC,CAAC,OAAON,CAAC,EAAE;IACVG,WAAW,GAAG,IAAI;EACpB;EAEA,OAAOA,WAAW;AACpB;AAEO,SAASM,wBAAwBA,CAACC,KAAK,EAAE;EAC9CP,WAAW,GAAGO,KAAK;AACrB","ignoreList":[]}