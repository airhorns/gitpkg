{"version":3,"file":"extract-tarball.js","names":["_fs","_interopRequireDefault","require","_endOfStream","_tarFs","_zlib","e","__esModule","default","extractTarball","tarballPath","destPath","stream","fs","createReadStream","pipe","zlib","Unzip","tar","extract","Promise","resolve","reject","end","err"],"sources":["../../../src/tasks/Publish/extract-tarball.js"],"sourcesContent":["import fs from 'fs';\nimport end from 'end-of-stream';\nimport tar from 'tar-fs';\nimport zlib from 'zlib';\n\nexport default async function extractTarball(tarballPath, destPath) {\n  const stream = fs\n    .createReadStream(tarballPath)\n    .pipe(new zlib.Unzip())\n    .pipe(tar.extract(destPath));\n\n  return new Promise((resolve, reject) => {\n    end(stream, err => {\n      if (err) {\n        return reject(err);\n      }\n      return resolve();\n    });\n  });\n}\n"],"mappings":";;;;;;AAAA,IAAAA,GAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,MAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAwB,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAET,eAAeG,cAAcA,CAACC,WAAW,EAAEC,QAAQ,EAAE;EAClE,MAAMC,MAAM,GAAGC,WAAE,CACdC,gBAAgB,CAACJ,WAAW,CAAC,CAC7BK,IAAI,CAAC,IAAIC,aAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CACtBF,IAAI,CAACG,cAAG,CAACC,OAAO,CAACR,QAAQ,CAAC,CAAC;EAE9B,OAAO,IAAIS,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACtC,IAAAC,oBAAG,EAACX,MAAM,EAAEY,GAAG,IAAI;MACjB,IAAIA,GAAG,EAAE;QACP,OAAOF,MAAM,CAACE,GAAG,CAAC;MACpB;MACA,OAAOH,OAAO,CAAC,CAAC;IAClB,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ","ignoreList":[]}