{"version":3,"file":"prepare-package.js","names":["_path","_interopRequireDefault","require","_del","_makeDir","_execLikeShell","_extractTarball","_getNpmClient","_getTarballName","_getTempDir","e","__esModule","default","preparePackage","pkg","pkgPath","npmClient","getNpmClient","tarballName","getTarballName","pkgTarballFilename","path","join","pkgTempDir","getTempDir","execLikeShell","del","force","makeDir","extractTarball"],"sources":["../../../src/tasks/Publish/prepare-package.js"],"sourcesContent":["import path from 'path';\nimport del from 'del';\nimport makeDir from 'make-dir';\nimport execLikeShell from './exec-like-shell';\nimport extractTarball from './extract-tarball';\nimport getNpmClient from './get-npm-client';\nimport getTarballName from './get-tarball-name';\nimport getTempDir from './get-temp-dir';\n\nexport default async function preparePackage(pkg, pkgPath) {\n  const npmClient = await getNpmClient();\n  const tarballName = await getTarballName(pkg);\n  const pkgTarballFilename = path.join(pkgPath, tarballName);\n  const pkgTempDir = await getTempDir(pkg);\n  await execLikeShell(`${npmClient} pack`, pkgPath);\n  await del(`${pkgTempDir}/**`, { force: true });\n  await makeDir(pkgTempDir);\n  await extractTarball(pkgTarballFilename, pkgTempDir);\n  await del(pkgTarballFilename);\n}\n"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,IAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,cAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,eAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,aAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,eAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,WAAA,GAAAR,sBAAA,CAAAC,OAAA;AAAwC,SAAAD,uBAAAS,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEzB,eAAeG,cAAcA,CAACC,GAAG,EAAEC,OAAO,EAAE;EACzD,MAAMC,SAAS,GAAG,MAAM,IAAAC,qBAAY,EAAC,CAAC;EACtC,MAAMC,WAAW,GAAG,MAAM,IAAAC,uBAAc,EAACL,GAAG,CAAC;EAC7C,MAAMM,kBAAkB,GAAGC,aAAI,CAACC,IAAI,CAACP,OAAO,EAAEG,WAAW,CAAC;EAC1D,MAAMK,UAAU,GAAG,MAAM,IAAAC,mBAAU,EAACV,GAAG,CAAC;EACxC,MAAM,IAAAW,sBAAa,EAAC,GAAGT,SAAS,OAAO,EAAED,OAAO,CAAC;EACjD,MAAM,IAAAW,YAAG,EAAC,GAAGH,UAAU,KAAK,EAAE;IAAEI,KAAK,EAAE;EAAK,CAAC,CAAC;EAC9C,MAAM,IAAAC,gBAAO,EAACL,UAAU,CAAC;EACzB,MAAM,IAAAM,uBAAc,EAACT,kBAAkB,EAAEG,UAAU,CAAC;EACpD,MAAM,IAAAG,YAAG,EAACN,kBAAkB,CAAC;AAC/B","ignoreList":[]}